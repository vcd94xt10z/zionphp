<!DOCTYPE html>
<html lang="pt">
<head>
    <title>Zion Framework - Documentação</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
	@import url('https://fonts.googleapis.com/css?family=Montserrat');
	
	body {
		margin: 0;
		padding: 0;
	}
	
	header {
		background: #efefef;
		border-bottom: 1px solid rgba(0,0,0,.05);
	}
	
	footer {
		border-top: 1px solid rgba(0,0,0,.05);
	}
	
	#content {
		max-width: 100% !important;
	}
	
	.doc-menu {
		border-right: 1px solid rgba(0,0,0,.05);
	}
	
	.doc-menu ul {
		list-style: none;
		margin: 0;
		padding: 0;
	}
	
	.doc-menu li ul {
		margin-left: 10px;
	}
	
	.doc-menu ul li {
		padding: 2px;
	}
	
	.doc-menu, .doc-box {
		margin-top: 10px;
	}
	
	.doc-menu a {
		color: #999;
		font-weight: 500;
	}
	
	.doc-menu a:hover {
		color: #333;
	}
	
	.doc-title {
		padding: 10px 0;
	}
	
	.backtotop {
		margin-top: 20px;
		margin-bottom: 20px;
	}
	
	h3 {
		border-left: 1px solid #333;
		padding-left: 10px;
		color: #555;
	}
	
	code {
		border: 1px solid #ccc;
		border-radius: 3px;
		
		padding: 10px;
		margin: 20px 0;
		display: block;
		clear: both;		
	}
	
	#button-go-to-top {
	  position: fixed;
	  bottom: 20px;
	  right: 30px;
	  z-index: 99;
	  border: none;
	  outline: none;
	  background-color: #0a0;
	  color: white;
	  cursor: pointer;
	  padding: 6px;
	  border-radius: 3px;
	  font-size: 16px;
	}
	
	#button-go-to-top:hover {
    	background-color: #555;
	}
	</style>
</head>
<body>
	
	<header id="header">
		<div class="container-fluid">
			<div class="row">
				<div class="col-12">
					<br>
					<h1>Documentação</h1>
					<br>
				</div>
			</div>
		</div>
	</header>
	<div id="content" class="container-fluid">
	
		<div class="row">
			<div class="col-sm-4 col-md-3 col-lg-2 doc-menu">
				<h2 class="doc-title">Indice</h2>
				<ul>
					<li><a href="#introducao">Introdução</a></li>
					<li><a href="#config-file">Arquivo de Configuração</a></li>
					<li><a href="#namespace">Namespace</a></li>
					<li><a href="#autoload">Autoload</a></li>
					<li>
						<a href="#structure">Estrutura do Sistema</a>
						<ul>
							<li><a href="#structure-module">Modulos</a></li>
							<li><a href="#structure-pattern-crud">Padrão de Arquivos de CRUD</a></li>
							<li><a href="#structure-controller">Classe controladora</a></li>
						</ul>
					</li>
					<li>
						<a href="#mapeamento-urls">Mapeamento de URLs</a>
						<ul>
							<li><a href="#url-rewrite-pk">Chave Primária</a></li>
							<li><a href="#url-rewrite-rest">Rest</a></li>
							<li><a href="#url-rewrite-friendly-url">URL amigável</a></li>
						</ul>
					</li>
					<li>
						<a href="#persistencia">Persistência</a>
						<ul>
							<li><a href="#orm-operacoes-basicas">Operações Básicas</a></li>
							<li><a href="#orm-ai">Auto Incremento</a></li>
							<li><a href="#orm-filter">Filtro</a></li>
						</ul>
					</li>
					<li><a href="#constantes">Constantes</a></li>
					<li><a href="#ambientes">Ambientes</a></li>
					<li><a href="#emails">E-mails</a></li>
					<li><a href="#seguranca">Segurança</a></li>
					<li><a href="#bibliotecas-backend">Bibliotecas Backend</a></li>
					<li><a href="#bibliotecas-frontend">Bibliotecas Frontend</a></li>
				</ul>
			</div>
			<div class="col-sm-8 col-md-9 col-lg-10">
				<div class="doc-box">
					<h2 id="introducao" class="doc-title">Introdução</h2>
					<div>
						<p>Conheças as funcionalidades do framework aqui. Neste documento tudo que for 
						referente ao framework será mencionado como do Zion e o que for referente ao
						aplicativo que utiliza o framework, será mencionado como do App.</p>
						
						<p>Muitas informações contidas aqui são apenas recomendações, se você tem sua
						própria organização de arquivos, classes, estrutura de pastas, pode continuar
						com ela, mas caso você não tem idéia de como começar ou não tem uma boa estrutura
						definida, é recomendado seguir nossas orientações.</p>
						
						<p>Existem milhoões de frameworks na Internet, por que vou usar o Zion?<br>
						Se você parar para pensar, porque existem tantos frameworks? Laravel é melhor que Zend?
						Zend é melhor que Cake? Claro que cada framework tem sua especialidade, ser mais rápido, mais
						leve ou ter mais funcionalidades, mas ainda sim a maioria faz a mesma coisa porque cada um
						acha que faz aquela tarefa melhor do que o outro.<p>
						
						<p>
						Claro que diversidade e liberdade de escolha são coisas que não podem faltar com relação a framework,
						o importante é você usar um framework que te ajude na prática, no seu dia a dia e não porque
						simplesmente esta na moda, como disse Morpheus "free your mind", só não vai pular de um prédio blz?
						</p>
						
						<p>
						Zion é a minha proposta de framework que tenta ajudar 
						da melhor forma possível, um desenvolvedor criar sua aplicação baseado na minha experiencia como 
						desenvolvedor não só PHP, mas Java, Javascript, ABAP por exemplo.
						</p>
						
						<p>"Que Aquiles fique com a glória, que Agamenon fique com o poder e que os Deuses 
						decidam a quem glorificar!"</p>
					</div>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				
				<div class="doc-box">
					<h2 id="config-file" class="doc-title">Arquivo de Configuração</h2>
					<div>
						<p>Copie o arquivo de configuração de exemplo para o diretório raiz do seu aplicativo com o nome
						<strong>config.json</strong> e altere conforme sua necessidade. A maioria das configurações
						é auto-explicativa, porém algumas precisam ser detalhadas.</p>
						
						<pre class="javascript" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #3366CC;">&quot;app&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">		<span style="color: #3366CC;">&quot;shortname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Meu App&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;fullname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Meu Aplicativo&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;online&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;waf&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;none&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;autoloads&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #3366CC;">&quot;zion&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">		<span style="color: #3366CC;">&quot;enableURI&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">		<span style="color: #3366CC;">&quot;ipstackAPIKey&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;&quot;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #3366CC;">&quot;database&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;DBMS&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;mysql&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;host&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;127.0.0.1&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;port&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">3306</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;user&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;root&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;password&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;schema&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;test&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;dateFormat&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Y-m-d&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;timeFormat&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;H:i:s&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  		<span style="color: #3366CC;">&quot;dateTimeFormat&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Y-m-d H:i:s&quot;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li></ol></pre>
						
						<ul>
							<li>app (Object): Contém as configurações do aplicativo</li>
							<li>app.autoloads (Array): Armazena o parâmetro que será utilizado para registar o seu autoload.
							Isso é extremamente importante se você usa um namespace fora do padrão, para desserializar objetos
							da sessão por exemplo</li>
							<li>zion (Object): Contém as configurações do Zion</li>
							<li>database (Object): Contém as configurações do banco de dados</li>
						</ul>
						
						<p>O framework sempre vai carregar o arquivo <strong>config.json</strong>, porém caso você tenha uma 
						configuração diferente para determinando ambiente, crie um arquivo JSON com o nome do ambiente. Assim,
						somente o que você definir no arquivo do ambiente irá sobreescrever o que foi definido no config.json 
						e não o arquivo inteiro.
						</p>
						
						<p>Por exemplo: DEV.json, QAS.json e PRD.json</p>
					</div>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				
				<div class="doc-box">
					<h2 id="namespace" class="doc-title">Namespace</h2>
					<div>
						<p>O padrão de namespace no framework segue a seguinte lógica:</p>
						
						<ul>
							<li>Classes de Biblioteca</li>
							<li>Classes de Módulo</li>
						</ul>
												
						<h3>Classes de Biblioteca</h3>
						<p>
							Utilizando o prefixo /app/ por exemplo, uma classe utilitária de formatação de textos
						</p>	
						
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">&lt;?php</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">namepace app\utils<span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">class</span> TextFormatter <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #339933;">...</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">?&gt;</span></div></li></ol></pre>
						<!-- code -->
						
						<h3>Classes de Módulo</h3>
						<p>Padrão /mod/::caminho-ate-chegar-no-diretorio-da-classe::</p>
						<p>Por exemplo, a classe /public/modules/crm/controller/CustomerController.class.php</p>
							
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">&lt;?php</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">namespace</span> mod\crm\controller<span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">class</span> CustomerController <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #666666; font-style: italic;">// ...</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">?&gt;</span></div></li></ol></pre>
						<!-- code -->
					</div>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				
				<div class="doc-box">
					<h2 id="autoload" class="doc-title">Autoload</h2>
					<div>
						<p>
							Todas as classes que seguem os padrões de namespace são incluidas automaticamente. Agora
							se você tem uma padrão próprio de namespace, será necessário registrar o seu autoload com a 
							função <strong>spl_autoload_register</strong> conforme exemplo abaixo:
						</p>
						
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">function</span> meu_autoload<span style="color: #009900;">&#40;</span><span style="color: #000088;">$className</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #339933;">...</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// registrando autoload</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #990000;">spl_autoload_register</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;meu_autoload&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li></ol></pre>
						<!-- code -->
						
						<p>
							Como o framework utiliza bibliotecas de terceiros via composer, fique tranquilo que as 
							classe serão carregadas automaticamente.
						</p>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
					</div>
				</div>
				
				<div class="doc-box">
					<h2 id="structure" class="doc-title">Estrutura do Sistema</h2>
					<div>
						<p>A organização do sistema é essencial por vários motivos. Já pegou um sistema desorganizado ou mal
						organizando, onde você não sabe onde ficam as coisas, você se pergunta: Cade os sites? cade a configuração
						do Apache? Onde ficam os logs? Onde estão as telas?</p>
						
						<p>Para responder essas perguntas, chegamos a uma estrutura onde você pode localizar facilmente seus 
						arquivos e pastas. O framework esta preparado para usar Linux como sistema operacional, o Apache como
						servidor web mas isso não quer dizer que você não possa usar outro SO ou outro servidor web, fique
						a vontade para trabalhar no ambiente que preferir, porém ajustes podem ser necessários e não serão
						levados em consideração aqui. Segue abaixo a estrutura completa, muitas das pastas são auto-explicativas,
						portanto, só serão detalhadas as mais importantes.</p>
						
						<code>
						/webserver/<br>
						/webserver/vhosts/<br>
						/webserver/vhosts/meusite.com.conf<br>
						/webserver/ssl/<br>
						/webserver/ssl/meusite.com/<br>
						/webserver/ssl/meusite.com/ca-bundle<br>
						/webserver/ssl/meusite.com/site.crt<br>
						/webserver/ssl/meusite.com/site.key<br>
						/webserver/sites/<br>
						/webserver/sites/meusite.com/<br>
						/webserver/sites/meusite.com/log/<br>
						/webserver/sites/meusite.com/log/http-error.log<br>
						/webserver/sites/meusite.com/lib/<br>
						/webserver/sites/meusite.com/lib/core/<br>
						/webserver/sites/meusite.com/lib/core/App.class.php<br>
						/webserver/sites/meusite.com/public/<br>
						/webserver/sites/meusite.com/public/.htaccess<br>
						/webserver/sites/meusite.com/public/index.php<br>
						/webserver/sites/meusite.com/public/css/<br>
						/webserver/sites/meusite.com/public/css/default.css<br>
						/webserver/sites/meusite.com/public/js/<br>
						/webserver/sites/meusite.com/public/js/default.js<br>
						/webserver/sites/meusite.com/public/img/<br>
						/webserver/sites/meusite.com/public/img/logo.png<br>
						/webserver/sites/meusite.com/public/tpl/<br>
						/webserver/sites/meusite.com/public/tpl/default.php<br>
						/webserver/sites/meusite.com/public/tpl/header.php<br>
						/webserver/sites/meusite.com/public/tpl/footer.php<br>
						/webserver/sites/meusite.com/public/modules/<br>
						/webserver/sites/meusite.com/public/modules/modulo1/<br>
						/webserver/sites/meusite.com/public/modules/modulo1/controller/<br>
						/webserver/sites/meusite.com/public/modules/modulo1/controller/UserController.class.php<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/user-list.php<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/user-form.php<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/user-result-list.php<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/css/<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/css/user-list.css<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/css/user-form.css<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/js/<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/js/user-list.js<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/js/user-form.js<br>
						/webserver/sites/meusite.com/public/modules/modulo1/view/img/<br>
						/webserver/sites/meusite.com/tmp/
						</code>
						
						<p>Vamos começar explicando item a item para ficar bem claro, começando na raiz do Linux.</p>
						
						<code>/webserver/</code>
						<p>Esse diretório contém todos os arquivos do servidor web, foi criado na raiz justamente para
						separar completamente da estrutura do Linux.</p>
						<br>
						
						<code>/webserver/vhosts/</code>
						<p>Contém os arquivos de configuração do Apache. Cada site deve ter seu próprio arquivo de configuração,
						conforme alguns exemplo: </p>
						<div>
						/webserver/vhosts/meusite.com.conf<br>
						/webserver/vhosts/meusite.com.br.conf
						</div>
						<br>
						
						<code>/webserver/sites/</code>
						<p>Contém os sites que o servidor hospeda, cada site tem sua pasta e a pasta é o domínio principal
						do site, visto que há sites que tem vários domínios, exemplos:</p>
						<div>
						/webserver/sites/meusite.com/<br>
						/webserver/sites/meusite.com.br/
						</div>
						<br>
						
						<code>/webserver/sites/meusite.com/</code>
						<p>Contém os arquivos do site como o código fonte, certificados, logs etc. Nesse nível, você
						pode criar arquivos e diretórios que não serão acessíveis como arquivos de configuração, senhas,
						chaves etc, exceto o diretório public é claro.
						</p>
						<br>
						
						<code>/webserver/sites/meusite.com/artifacts/</code>
						<p>Documentos do projeto como levantamento de requisitos, prototipação, informações relevantes,
						dumps etc.</p>
						<br>
						
						<code>/webserver/sites/meusite.com/public/</code>
						<p>Contém a parte publica do site (DOCUMENTO_ROOT), onde tudo que estiver dentro é passivel
						de ser acessível sem restrição, então cuidado para não jogar arquivo de configuração, senhas etc</p>
						<br>
						
						<code>/webserver/sites/meusite.com/log/</code>
						<p>Logs de erro, atividades etc. É recomendavel separar os erros de cada site aqui para não misturar
						tudo no log geral do Apache. Crie uma rotina para olhar os logs porque as vezes alguem esta tentando
						achar uma vunerabilidade e até encontrou alguma e você nem fica sabendo. Portando, fique atendo.
						</p>
						<p>
						O log de acesso não recomendamos deixar aqui porque vai acumular muito conteúdo, a não ser que você
						configure o log rotate.
						</p>
						<br>
						
						<code>/webserver/sites/meusite.com/tmp/</code>
						<p>Arquivos e diretórios temporários como sessão, cache etc</p>
						<br>
						
						<code>/webserver/sites/meusite.com/public/modules/</code>
						<p>Módulos do sistema, serão explicados detalhadamente em um tópico separado.</p>
						<br>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="structure-module">Módulos</h3>
						<p>O sistema esta organizado por módulos, um módulo é um mini aplicativo
						responsável por <strong>resolver um problema especifico</strong>, segue alguns exemplos:</p>
						
						<ul>
							<li>Sistema</li>
							<li>Clientes</li>
							<li>E-mails</li>
							<li>Segurança</li>
							<li>Migração de Dados</li>
							<li>Venda</li>
							<li>Compras</li>
						</ul>
						
						<p>Os módulos devem ser cadastrados no diretório "/public/modules/" com a 
						seguinte estrutura de pastas, seguindo a metodologia MVC:</p>
						
						<ul>
							<li>controller/: Contém as classes controladoras</li>
							<li>model/: Contém as classe de persistência, utilitárias etc</li>
							<li>view/: Contém as telas</li>
							<li>view/js/: Contém os JavaScripts</li>
							<li>view/css/: Contém os CSS</li>
							<li>view/img/: Contém as Imagens</li>
							<li>view/tpl/: Contém os Templates de páginas</li>
						</ul>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="structure-pattern-crud">Padrão de Arquivos de CRUD</h3>
						<p>
							Utilize o seguinte padrão para cada tipo de arquivo:
						</p>
						
						<ul>
							<li>controller/CustomerController.class.php</li>
							<li>view/customer-list.php</li>
							<li>view/customer-form.php</li>
							<li>view/customer-result-filter.php</li>
							<li>view/js/customer-list.js</li>
							<li>view/js/customer-form.js</li>
							<li>view/css/customer-list.css</li>
							<li>view/css/customer-form.css</li>
						</ul>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="structure-controller">Classe controladora</h3>
						<p>Um controle é responsável pela <strong>regra de negócio</strong>, além de receber os dados de entrada
						e responder ao cliente seja uma página HTML, uma mensagem, um arquivo ou apenas o status.
						</p>
						
						<p>Todos os métodos que iniciam o processamento, tem o prefixo <strong>"action"</strong>, que são as
						ações que aquele controle executa.
						
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">&lt;?php</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">namespace</span> mod\crm\controller<span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">class</span> CustomerController <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009933; font-style: italic;">/**</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009933; font-style: italic;">	 * Carrega a tela de seleção de clientes</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009933; font-style: italic;">	 */</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> actionList<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">		<span style="color: #666666; font-style: italic;">// ...</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009933; font-style: italic;">/**</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009933; font-style: italic;">	 * Executa um filtro de clientes e carrega uma tabela com o resultado</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009933; font-style: italic;">	 */</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> actionFilter<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">		<span style="color: #666666; font-style: italic;">// ...</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> actionSave<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">		<span style="color: #666666; font-style: italic;">// ...</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">?&gt;</span></div></li></ol></pre>
						<!-- code -->
						
					</div>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				
				<div class="doc-box">
					<h2 id="mapeamento-urls" class="doc-title">Mapeamento de URLs</h2>
					<div>
						<p>
							O mapeamento de URLs para um método de instância é <strong>automático</strong> se o seguinte padrão for seguido:
							
							<code>
							/mod/:nome-do-módulo:/:classe-controladora:/:acao:/
							</code>
							
							Exemplo:<br>
							URL=> /mod/crm/Customer/list/<br>
							
							Instancia a classe <strong>/mod/crm/controller/CustomerController</strong> e chama o método <strong>actionList()</strong><br>
							
							<br>
							Outros exemplos:<br>
							/mod/crm/Customer/new/<br>
							/mod/crm/Customer/edit/?keys[customerid]=1<br>
							/mod/crm/Customer/filter/<br>
							/mod/crm/Customer/delete/?keys[customerid]=1<br>
							/mod/sales/SalesOrder/edit/?keys[type]=ABC&keys[soid]=1<br>
						</p>
						<p>
							Lembrando que na URL, a classe controladora não tem o sufixo "Controller" e a ação esta em camelCase e não tem o prefixo "action".
						</p>
						<p>
							Há situações que você vai querer criar sua própria URL. Nesse caso, o mapeamento deve ser feito manualmente instanciando o controle
							e chamando o método.
						</p>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="url-rewrite-pk">Chave Primária</h3>
						<p>
							Quando um registro precisar ser atualizado, envie a chave primária via GET com a chave 
							"<strong>keys</strong>". Essa
							variável deve ser um array porque a chave pode ser composta, mesmo quando for apenas um campo.
						</p>
						<p>
							Exemplo: Se você quer editar uma Ordem de Venda e na tabela de banco de dados a chave primaria for
							<strong>tipo</strong> e <strong>codigo</strong>, você deve passar na url assim:
							
							<code>
							/mod/sales/SalesOrder/edit/?keys[tipo]=1&keys[codigo]=2
							</code>
						</p>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="url-rewrite-rest">Padrão REST</h3>
						<p>
							As requisições e respostas HTTP devem respeitar o padrão REST na medida do possível, 
							conforme tabela abaixo:
						</p>
						
						<table class="table table-sm" style="max-width: 640px;">
						<thead>
							<tr>
								<td style="width: 180px">Operação</td>
								<td style="width: 60px">Método</td>
								<td style="width: 60px;">Status</td>
								<td>Descrição</td>	
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Consultar um registro</td>
								<td>GET</td>
								<td>200</td>
								<td>Um registro foi consultado</td>	
							</tr>
							<tr>
								<td>Criar registro</td>
								<td>POST</td>
								<td>201</td>
								<td>Um registro foi inserido</td>	
							</tr>
							<tr>
								<td>Atualizar registro</td>
								<td>PUT</td>
								<td>204</td>
								<td>Um registro foi atualizado</td>	
							</tr>
							<tr>
								<td>Deletar um registro</td>
								<td>DELETE</td>
								<td>200</td>
								<td>Um registro foi deletado</td>	
							</tr>
						</tbody>
						</table>
						
						<p>Em caso de erro, se for de entrada incorreta de dados, o status deve ser 400, 
						erro do servidor 500 assim por diante.</p>
						
						<h3 id="url-rewrite-friendly-url">URL Amigável</h3>
						<p>Quando precisar de URLs amigáveis, você pode fazer isso manualmente no seu index.php, conforme
						exemplo: </p>
						
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">strpos</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;REQUEST_URI&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;/minha-url-amigavel&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">===</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000088;">$ctrl</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> \mod\core\controller\UserController<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000088;">$ctrl</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">actionTest</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #990000;">exit</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li></ol></pre>
						
						<p>Outra possibilidade é inserir o mapeamento na tabela <strong>zion_core_route</strong></p>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
					</div>
				</div>
				
				<div class="doc-box">
					<h2 id="persistencia" class="doc-title">Persistência</h2>
					<div>
						<p>
							Na comunicação com o banco de dados, evite usar SQL nativo. Isso vai facilitar
							se o banco de dados for trocado e também padronizar melhor as classes e métodos de persistência.
						</p>
						<p>
							A classe que representa um registro do banco na aplicacão (mapeamento objeto relacional) é a classe
							<strong>/zion/orm/ObjectVO</strong>.
						</p>
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="orm-operacoes-basicas">Operações Básicas</h3>
						<p>
							Segue alguns exemplos de como executar operações básicas no banco.
						</p>
						
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// conexão com o banco de dados (instância da PDO)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getConnection</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// DAO: são as classes que farão o mapeamento Objeto Relacional</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$customerDAO</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getDAO</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;customer&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// consultar todos os clientes</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$customerList</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$customerDAO</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getArray</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// consultar um cliente</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$keys</span> <span style="color: #339933;">=</span> <span style="color: #990000;">array</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;customerid&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$customer</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$customerDAO</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getObject</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #000088;">$keys</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// inserir um cliente</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ObjectVO<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;customerid&quot;</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;name&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;Fulano da Silva&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;email&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;fulano@gmail.com&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;created_at&quot;</span><span style="color: #339933;">,</span><span style="color: #000000; font-weight: bold;">new</span> DateTime<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$affectedLines</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$customerDAO</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">insert</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #000088;">$obj</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// atualizar um cliente</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ObjectVO<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;customerid&quot;</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;name&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;Fulano da Silva Souza&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$affectedLines</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$customerDAO</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">update</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #000088;">$obj</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// deletar um cliente</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ObjectVO<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;customerid&quot;</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$affectedLines</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$customerDAO</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">delete</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #000088;">$obj</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// se deseja utilizar SQL Nativo, não precisa informar a conexão e a tabela</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$dao</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getDAO</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$customerList</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$dao</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">queryAndFetch</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;SELECT * FROM customer&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$customer</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$dao</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">queryAndFetchObject</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;SELECT * FROM customer LIMIT 1&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li></ol></pre>
						<!-- code -->
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="orm-ai">Auto Increment</h3>
						<p>
							O auto incremento é gerenciado pelo Zion, que por sua vez tem um tratamento especifico para cada
							SGBD, utilizando geralmente um objeto de sequência para isso. O método resposável por isso é 
							<strong>getNextId</strong> que é implementado por cada classe de banco de dados. As numerações 
							são armazenadas na tabela <strong>zion_sequence</strong> e controladas pela função 
							<strong>zion_nextval</strong> quando aplicável.
						</p>
						
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getConnection</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$dao</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getDAO</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$cliente</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ObjectVO<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$cliente</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;id&quot;</span><span style="color: #339933;">,</span><span style="color: #000088;">$dao</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getNextId</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;cliente-id&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// inserir no banco ...</span></div></li></ol></pre>
						<!-- code -->
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
						<h3 id="orm-filter">Filtro</h3>
						<p>
							Para filtrar, ordenar e limitar dados, utilize a classe <strong>\zion\orm\Filter</strong>. Sua
							função é receber esses filtros padronizados e converter isso para SQL Nativo. Cada operador do banco
							tem um método equivalente na Filter, conforme tabela abaixo:
						</p>
						
						<table class="table table-sm" style="max-width: 640px;">
						<thead>
							<tr>
								<td style="width: 120px">SQL</td>
								<td style="width: 120px">Método</td>
								<td>Descrição</td>	
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>=</td>
								<td>eq</td>
								<td>Igual</td>	
							</tr>
							<tr>
								<td>&#x3C;&#x3E;</td>
								<td>ne</td>
								<td>Diferente</td>	
							</tr>
							<tr>
								<td>&#x3E;</td>
								<td>gt</td>
								<td>Maior que</td>	
							</tr>
							<tr>
								<td>&#x3E;=</td>
								<td>ge</td>
								<td>Maior ou igual a</td>	
							</tr>
							<tr>
								<td>&#x3C;</td>
								<td>lt</td>
								<td>Menor que</td>	
							</tr>
							<tr>
								<td>&#x3C;=</td>
								<td>le</td>
								<td>Menor ou igual a</td>	
							</tr>
							<tr>
								<td>IS NULL</td>
								<td>nu</td>
								<td>É nulo</td>	
							</tr>
							<tr>
								<td>IS NOT NULL</td>
								<td>nn</td>
								<td>Não é nulo</td>	
							</tr>
							<tr>
								<td>IN</td>
								<td>in</td>
								<td>Esta na lista</td>	
							</tr>
							<tr>
								<td>NI</td>
								<td>ni</td>
								<td>Não esta na lista</td>	
							</tr>
							<tr>
								<td>REGEXP</td>
								<td>re</td>
								<td>Esta na expressão regular</td>	
							</tr>
							<tr>
								<td>BETWEEN</td>
								<td>bt</td>
								<td>Entre</td>	
							</tr>
							<tr>
								<td>NOT BETWEEN</td>
								<td>nb</td>
								<td>Não entre</td>	
							</tr>
						</tbody>
						</table>
						
						<p>
							Segue alguns exemplos de uso para facilitar o entendimento:
						</p>
						
						<!-- code -->
						<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Filter<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// filtros</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">eq</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;age&quot;</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">18</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">ne</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;country&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;BR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// ordenação</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addSort</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;name&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;ASC&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addSort</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;age&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;DESC&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// limite</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setLimit</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// offset</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$filter</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setOffset</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getConnection</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$dao</span> <span style="color: #339933;">=</span> <span style="color: #990000;">System</span><span style="color: #339933;">::</span><span style="color: #004000;">getDAO</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;customer&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$customerList</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$dao</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getArray</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$db</span><span style="color: #339933;">,</span><span style="color: #000088;">$filter</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;pre&gt;&quot;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #990000;">print_r</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$customerList</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;/pre&gt;&quot;</span><span style="color: #339933;">;</span></div></li></ol></pre>
						<!-- code -->
						
						<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
					</div>
				</div>
				
				<div class="doc-box">
					<h2 id="constantes" class="doc-title">Constantes</h2>
					
					<p>O framework cria algumas constantes que são importantes para a aplicação: </p>
					
					<table class="table table-sm" style="max-width: 640px;">
					<thead>
						<tr>
							<td style="width: 180px">Nome</td>
							<td style="width: 60px">Tipo</td>
							<td>Descrição</td>	
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>\zion\ROOT</td>
							<td>string</td>
							<td>Diretório absoluto do framework</td>
						</tr>
						<tr>
							<td>\zion\APP_ROOT</td>
							<td>string</td>
							<td>Diretório absoluto da aplicação</td>
						</tr>
						<tr>
							<td>\zion\ENV</td>
							<td>string</td>
							<td>Ambiente atual (DEV,QAS ou PRD)</td>
						</tr>
						<tr>
							<td>\DS</td>
							<td>string</td>
							<td>Separador de diretório</td>
						</tr>
					</tbody>
					</table>
					
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
						
				</div>
				<div class="doc-box">
					<h2 id="ambientes" class="doc-title">Ambientes</h2>
					
					<p>São três tipos de ambientes suportados:</p>
					<ul>
						<li>DEV: Desenvolvimento, onde o produto é criado ou atualizado</li>
						<li>QAS: Qualidade, onde o teste final do produto é feito com dados atualizados</li>
						<li>PRD: Produção, onde o produto final já foi testado e funciona sem erros</li>
					</ul>
					
					<p>
						O ambiente é determinado automaticamente pelo domínio do servidor, obtido na variável super global
						_SERVER['SERVER_NAME']. 
					</p>
					<div>Se o domínio contiver .dev ou .des é desenvolvimento</div>
					<div>Se o domínio contiver .qas é qualidade</div>
					<div>Se o domínio contiver não estiver em nenhum dos padrões anteriores, é produção</div>
					
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
					
				</div>
				
				<div class="doc-box">
					<h2 id="emails" class="doc-title">E-mails</h2>
					<p>
						Para enviar e-mails, basta informar os dados mínimos do servidor SMTP e os dados do e-mail, segue
						um exemplo:
					</p>
					
					<pre class="php" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> OutputMail<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// assunto</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setSubject</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Teste de assunto&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// remetente</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$from</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> MailAddress<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$from</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setName</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Fulano&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$from</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setEmail</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;fulano@teste.com&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setFrom</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$from</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// destinatários</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addRecipient</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> MailAddress<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;destino1@teste.com&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;Destino 1&quot;</span><span style="color: #339933;">,</span>MailAddress<span style="color: #339933;">::</span><span style="color: #004000;">TYPE_TO</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addRecipient</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> MailAddress<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;destino2@teste.com&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;Destino 2&quot;</span><span style="color: #339933;">,</span>MailAddress<span style="color: #339933;">::</span><span style="color: #004000;">TYPE_TO</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addRecipient</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> MailAddress<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;destino3@teste.com&quot;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">&quot;Destino 3&quot;</span><span style="color: #339933;">,</span>MailAddress<span style="color: #339933;">::</span><span style="color: #004000;">TYPE_CC</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// mensagem</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">body</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&lt;strong&gt;Teste&lt;/strong&gt;&quot;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">bodyContentType</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;text/html&quot;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// dados do smtp</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000088;">$data</span> <span style="color: #339933;">=</span> <span style="color: #990000;">array</span><span style="color: #009900;">&#40;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #0000ff;">&quot;host&quot;</span>     <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;smtp.teste.com&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #0000ff;">&quot;auth&quot;</span>     <span style="color: #339933;">=&gt;</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #339933;">,</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #0000ff;">&quot;user&quot;</span>     <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;teste@teste.com&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #0000ff;">&quot;password&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;123456&quot;</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #0000ff;">&quot;port&quot;</span>     <span style="color: #339933;">=&gt;</span> <span style="color: #cc66cc;">3333</span><span style="color: #339933;">,</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #0000ff;">&quot;secure&quot;</span>   <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;ssl&quot;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">// tentando enviar</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">try <span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000088;">$mm</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> MailManager<span style="color: #009900;">&#40;</span><span style="color: #000088;">$data</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #000088;">$mm</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">send</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$obj</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;OK&quot;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span>catch<span style="color: #009900;">&#40;</span>Exception <span style="color: #000088;">$e</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;Erro&quot;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">	<span style="color: #b1b100;">echo</span> <span style="color: #000088;">$e</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #009900;">&#125;</span></div></li></ol></pre>
					
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>					
				</div>
				
				<div class="doc-box">
					<h2 id="seguranca" class="doc-title">Segurança</h2>
					<p>
						O framework analisa todas as requisições por padrões de ataques, para ativar essa proteção, edite
						o arquivo de configuração da aplicação <strong>config.json</strong>, valores possíveis:
					</p>
					<ul>
						<li>none: Nenhum filtro será feito, os ataques vão passar direto</li>
						<li>light: Bloqueia todos os padrões de ataques e coloca em uma blacklist o IP do usuário por 1 hora</li>
						<li>hard: Bloqueia todos os acessos, exceto os IPs que estiverem na whitelist, 
							além de fazer tudo o que o modo light faz
						</li>
					</ul>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				<div class="doc-box">
					<h2 id="bibliotecas-backend" class="doc-title">Bibliotecas Backend</h2>
					<p>
						Há diversas classes que podem ser utilizadas, elas se localizam dentro da pasta /backend/. Muitas
						classes são auto-explicativas e por isso, não tera uma documentação aqui.
					</p>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				<div class="doc-box">
					<h2 id="bibliotecas-frontend" class="doc-title">Bibliotecas Frontend</h2>
					<p>
						Os arquivos do frontend se localizam na pasta /frontend/. O zion vem com algumas bibliotecas por padrão,
						além de alguns arquivos úteis dentro da pasta /frontend/zion/.
					</p>
					<div class="backtotop"><a href="#header">Voltar ao topo</a></div>
				</div>
				
			</div>
		</div>
	</div>
	<footer>
		<div class="container-fluid">
			<div class="row">
				<div class="col-12">
					
					<br>
					Documentação criada em 20/07/2019 e atualizada em 24/07/2019<br>
					<br>
					<br>
					Sintaxes geradas pelo site					 
					<a href="https://highlight.hohli.com/index.php" target="_blank">highlight.hohli.com</a>
					<br>
					<br>
					<br>
					
				</div>
			</div>
		</div>
	</footer>
	
	<a id="button-go-to-top" class="btn btn-primary" href="#">
		Ir para Topo
	</a>
</body>
</html>